{"ast":null,"code":"import _mergeJSXProps2 from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { createNamespace, isDef, addUnit, inBrowser } from '../utils';\nimport Icon from '../icon';\n\nvar _createNamespace = createNamespace('image'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    src: String,\n    fit: String,\n    alt: String,\n    round: Boolean,\n    width: [Number, String],\n    height: [Number, String],\n    radius: [Number, String],\n    lazyLoad: Boolean,\n    iconPrefix: String,\n    showError: {\n      type: Boolean,\n      default: true\n    },\n    showLoading: {\n      type: Boolean,\n      default: true\n    },\n    errorIcon: {\n      type: String,\n      default: 'photo-fail'\n    },\n    loadingIcon: {\n      type: String,\n      default: 'photo'\n    }\n  },\n  data: function data() {\n    return {\n      loading: true,\n      error: false\n    };\n  },\n  watch: {\n    src: function src() {\n      this.loading = true;\n      this.error = false;\n    }\n  },\n  computed: {\n    style: function style() {\n      var style = {};\n\n      if (isDef(this.width)) {\n        style.width = addUnit(this.width);\n      }\n\n      if (isDef(this.height)) {\n        style.height = addUnit(this.height);\n      }\n\n      if (isDef(this.radius)) {\n        style.overflow = 'hidden';\n        style.borderRadius = addUnit(this.radius);\n      }\n\n      return style;\n    }\n  },\n  created: function created() {\n    var $Lazyload = this.$Lazyload;\n\n    if ($Lazyload && inBrowser) {\n      $Lazyload.$on('loaded', this.onLazyLoaded);\n      $Lazyload.$on('error', this.onLazyLoadError);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    var $Lazyload = this.$Lazyload;\n\n    if ($Lazyload) {\n      $Lazyload.$off('loaded', this.onLazyLoaded);\n      $Lazyload.$off('error', this.onLazyLoadError);\n    }\n  },\n  methods: {\n    onLoad: function onLoad(event) {\n      this.loading = false;\n      this.$emit('load', event);\n    },\n    onLazyLoaded: function onLazyLoaded(_ref) {\n      var el = _ref.el;\n\n      if (el === this.$refs.image && this.loading) {\n        this.onLoad();\n      }\n    },\n    onLazyLoadError: function onLazyLoadError(_ref2) {\n      var el = _ref2.el;\n\n      if (el === this.$refs.image && !this.error) {\n        this.onError();\n      }\n    },\n    onError: function onError(event) {\n      this.error = true;\n      this.loading = false;\n      this.$emit('error', event);\n    },\n    onClick: function onClick(event) {\n      this.$emit('click', event);\n    },\n    genPlaceholder: function genPlaceholder() {\n      var h = this.$createElement;\n\n      if (this.loading && this.showLoading) {\n        return h(\"div\", {\n          \"class\": bem('loading')\n        }, [this.slots('loading') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.loadingIcon,\n            \"classPrefix\": this.iconPrefix\n          },\n          \"class\": bem('loading-icon')\n        })]);\n      }\n\n      if (this.error && this.showError) {\n        return h(\"div\", {\n          \"class\": bem('error')\n        }, [this.slots('error') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.errorIcon,\n            \"classPrefix\": this.iconPrefix\n          },\n          \"class\": bem('error-icon')\n        })]);\n      }\n    },\n    genImage: function genImage() {\n      var h = this.$createElement;\n      var imgData = {\n        class: bem('img'),\n        attrs: {\n          alt: this.alt\n        },\n        style: {\n          objectFit: this.fit\n        }\n      };\n\n      if (this.error) {\n        return;\n      }\n\n      if (this.lazyLoad) {\n        return h(\"img\", _mergeJSXProps([{\n          \"ref\": \"image\",\n          \"directives\": [{\n            name: \"lazy\",\n            value: this.src\n          }]\n        }, imgData]));\n      }\n\n      return h(\"img\", _mergeJSXProps2([{\n        \"attrs\": {\n          \"src\": this.src\n        },\n        \"on\": {\n          \"load\": this.onLoad,\n          \"error\": this.onError\n        }\n      }, imgData]));\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem({\n        round: this.round\n      }),\n      \"style\": this.style,\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.genImage(), this.genPlaceholder(), this.slots()]);\n  }\n});","map":{"version":3,"names":["_mergeJSXProps2","_mergeJSXProps","createNamespace","isDef","addUnit","inBrowser","Icon","_createNamespace","createComponent","bem","props","src","String","fit","alt","round","Boolean","width","Number","height","radius","lazyLoad","iconPrefix","showError","type","default","showLoading","errorIcon","loadingIcon","data","loading","error","watch","computed","style","overflow","borderRadius","created","$Lazyload","$on","onLazyLoaded","onLazyLoadError","beforeDestroy","$off","methods","onLoad","event","$emit","_ref","el","$refs","image","_ref2","onError","onClick","genPlaceholder","h","$createElement","slots","genImage","imgData","class","attrs","objectFit","name","value","render","arguments"],"sources":["E:/HTML_studying/项目/vue-vant项目-谁是卧底/app/node_modules/vant/es/image/index.js"],"sourcesContent":["import _mergeJSXProps2 from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { createNamespace, isDef, addUnit, inBrowser } from '../utils';\nimport Icon from '../icon';\n\nvar _createNamespace = createNamespace('image'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    src: String,\n    fit: String,\n    alt: String,\n    round: Boolean,\n    width: [Number, String],\n    height: [Number, String],\n    radius: [Number, String],\n    lazyLoad: Boolean,\n    iconPrefix: String,\n    showError: {\n      type: Boolean,\n      default: true\n    },\n    showLoading: {\n      type: Boolean,\n      default: true\n    },\n    errorIcon: {\n      type: String,\n      default: 'photo-fail'\n    },\n    loadingIcon: {\n      type: String,\n      default: 'photo'\n    }\n  },\n  data: function data() {\n    return {\n      loading: true,\n      error: false\n    };\n  },\n  watch: {\n    src: function src() {\n      this.loading = true;\n      this.error = false;\n    }\n  },\n  computed: {\n    style: function style() {\n      var style = {};\n\n      if (isDef(this.width)) {\n        style.width = addUnit(this.width);\n      }\n\n      if (isDef(this.height)) {\n        style.height = addUnit(this.height);\n      }\n\n      if (isDef(this.radius)) {\n        style.overflow = 'hidden';\n        style.borderRadius = addUnit(this.radius);\n      }\n\n      return style;\n    }\n  },\n  created: function created() {\n    var $Lazyload = this.$Lazyload;\n\n    if ($Lazyload && inBrowser) {\n      $Lazyload.$on('loaded', this.onLazyLoaded);\n      $Lazyload.$on('error', this.onLazyLoadError);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    var $Lazyload = this.$Lazyload;\n\n    if ($Lazyload) {\n      $Lazyload.$off('loaded', this.onLazyLoaded);\n      $Lazyload.$off('error', this.onLazyLoadError);\n    }\n  },\n  methods: {\n    onLoad: function onLoad(event) {\n      this.loading = false;\n      this.$emit('load', event);\n    },\n    onLazyLoaded: function onLazyLoaded(_ref) {\n      var el = _ref.el;\n\n      if (el === this.$refs.image && this.loading) {\n        this.onLoad();\n      }\n    },\n    onLazyLoadError: function onLazyLoadError(_ref2) {\n      var el = _ref2.el;\n\n      if (el === this.$refs.image && !this.error) {\n        this.onError();\n      }\n    },\n    onError: function onError(event) {\n      this.error = true;\n      this.loading = false;\n      this.$emit('error', event);\n    },\n    onClick: function onClick(event) {\n      this.$emit('click', event);\n    },\n    genPlaceholder: function genPlaceholder() {\n      var h = this.$createElement;\n\n      if (this.loading && this.showLoading) {\n        return h(\"div\", {\n          \"class\": bem('loading')\n        }, [this.slots('loading') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.loadingIcon,\n            \"classPrefix\": this.iconPrefix\n          },\n          \"class\": bem('loading-icon')\n        })]);\n      }\n\n      if (this.error && this.showError) {\n        return h(\"div\", {\n          \"class\": bem('error')\n        }, [this.slots('error') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.errorIcon,\n            \"classPrefix\": this.iconPrefix\n          },\n          \"class\": bem('error-icon')\n        })]);\n      }\n    },\n    genImage: function genImage() {\n      var h = this.$createElement;\n      var imgData = {\n        class: bem('img'),\n        attrs: {\n          alt: this.alt\n        },\n        style: {\n          objectFit: this.fit\n        }\n      };\n\n      if (this.error) {\n        return;\n      }\n\n      if (this.lazyLoad) {\n        return h(\"img\", _mergeJSXProps([{\n          \"ref\": \"image\",\n          \"directives\": [{\n            name: \"lazy\",\n            value: this.src\n          }]\n        }, imgData]));\n      }\n\n      return h(\"img\", _mergeJSXProps2([{\n        \"attrs\": {\n          \"src\": this.src\n        },\n        \"on\": {\n          \"load\": this.onLoad,\n          \"error\": this.onError\n        }\n      }, imgData]));\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem({\n        round: this.round\n      }),\n      \"style\": this.style,\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.genImage(), this.genPlaceholder(), this.slots()]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}