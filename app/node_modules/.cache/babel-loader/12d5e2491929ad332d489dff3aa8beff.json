{"ast":null,"code":"export default {\n  data() {\n    return {\n      username: \"\",\n      population: 4,\n      roomid: \"\",\n      CanJump: false\n    };\n  },\n\n  methods: {\n    onSubmit(values) {\n      console.log(\"submit\", values); //判断是创建房间还是加入房间\n\n      if (values.population) {\n        //创建房间\n        this.socket.emit(\"createRoom\", {\n          username: values.username,\n          roomid: '040656',\n          population: values.population,\n          isHost: true\n        });\n        console.log(this.CanJump);\n\n        if (this.CanJump) {\n          console.log('模拟房间创建成功了');\n        }\n      }\n\n      if (values.roomid) {\n        console.log(\"加入房间\");\n      }\n    },\n\n    getRandomSixNum() {\n      let RandomSixStr = '';\n\n      for (let i = 0; i < 6; i++) {\n        RandomSixStr += String(Math.floor(Math.random() * 10));\n      }\n\n      return RandomSixStr;\n    }\n\n  },\n  props: [\"isHost\"],\n\n  created() {\n    //绑定成功事件\n    this.$bus.$on('createRoom', detail => {\n      this.CanJump = true;\n    });\n  }\n\n};","map":{"version":3,"mappings":"AAoCA;EACAA;IACA;MACAC,YADA;MAEAC,aAFA;MAGAC,UAHA;MAIAC;IAJA;EAMA,CARA;;EASAC;IACAC;MACAC,8BADA,CAGA;;MACA;QACA;QACA;UACAN,yBADA;UAEAE,gBAFA;UAGAD,6BAHA;UAIAM;QAJA;QAMAD;;QACA;UACAA;QAEA;MACA;;MACA;QACAA;MACA;IACA,CAtBA;;IAuBAE;MACA;;MACA;QACAC;MACA;;MACA;IACA;;EA7BA,CATA;EAwCAC,iBAxCA;;EAyCAC;IACA;IACA;MACA;IACA,CAFA;EAGA;;AA9CA","names":["data","username","population","roomid","CanJump","methods","onSubmit","console","isHost","getRandomSixNum","RandomSixStr","props","created"],"sourceRoot":"src/components/Tip","sources":["Tip.vue"],"sourcesContent":["<template>\r\n  <van-form @submit=\"onSubmit\">\r\n    <van-field\r\n      v-model=\"username\"\r\n      name=\"username\"\r\n      label=\"游戏内名称\"\r\n      placeholder=\"此处最好填入您的真实姓名或者外号\"\r\n      :rules=\"[{ required: true, message: '' }]\"\r\n    />\r\n    <van-field integer v-if=\"isHost\" name=\"population\" label=\"请选择玩家数量\">\r\n      <template #input>\r\n        <van-stepper v-model=\"population\" min=\"4\" max=\"12\" />\r\n      </template>\r\n    </van-field>\r\n    <van-field\r\n      v-if=\"!isHost\"\r\n      v-model=\"roomid\"\r\n      name=\"roomid\"\r\n      label=\"房间号\"\r\n      placeholder=\"请输入6位房间号\"\r\n      :rules=\"[{ required: true, message: '' }]\"\r\n    />\r\n    <div v-if=\"isHost\" style=\"margin: 16px\">\r\n      <van-button round block type=\"info\" native-type=\"submit\"\r\n        >创建房间</van-button\r\n      >\r\n    </div>\r\n    <div v-else style=\"margin: 16px\">\r\n      <van-button round block type=\"info\" native-type=\"submit\"\r\n        >加入房间</van-button\r\n      >\r\n    </div>\r\n  </van-form>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      population: 4,\r\n      roomid: \"\",\r\n      CanJump:false\r\n    };\r\n  },\r\n  methods: {\r\n    onSubmit(values) {\r\n      console.log(\"submit\", values);\r\n\r\n      //判断是创建房间还是加入房间\r\n      if (values.population) {\r\n        //创建房间\r\n        this.socket.emit(\"createRoom\", {\r\n          username: values.username,\r\n          roomid:'040656',\r\n          population: values.population,\r\n          isHost: true,\r\n        });\r\n        console.log(this.CanJump);\r\n        if(this.CanJump){\r\n          console.log('模拟房间创建成功了');\r\n          \r\n        }\r\n      }\r\n      if (values.roomid) {\r\n        console.log(\"加入房间\");\r\n      }\r\n    },\r\n    getRandomSixNum() {\r\n        let RandomSixStr = ''\r\n        for(let i = 0;i < 6; i++) {\r\n          RandomSixStr += String(Math.floor(Math.random()*10))\r\n        }\r\n        return RandomSixStr\r\n      }\r\n  },\r\n  props: [\"isHost\"],\r\n  created(){\r\n    //绑定成功事件\r\n    this.$bus.$on('createRoom',(detail)=>{\r\n      this.CanJump=true\r\n    })\r\n  }\r\n};\r\n</script>\r\n\r\n<style socped lang='scss'>\r\n.van-form {\r\n  margin: 30px 0;\r\n}\r\n.van-field__label {\r\n  width: 7.2em !important;\r\n\r\n  text-align: center !important;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}