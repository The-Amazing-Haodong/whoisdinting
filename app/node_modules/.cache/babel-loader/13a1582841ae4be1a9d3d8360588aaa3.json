{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Overlay from '../../overlay';\nimport { context } from './context';\nimport { mount } from '../../utils/functional';\nimport { removeNode } from '../../utils/dom/node';\nvar defaultConfig = {\n  className: '',\n  customStyle: {}\n};\n\nfunction mountOverlay(vm) {\n  return mount(Overlay, {\n    on: {\n      // close popup when overlay clicked & closeOnClickOverlay is true\n      click: function click() {\n        vm.$emit('click-overlay');\n\n        if (vm.closeOnClickOverlay) {\n          if (vm.onClickOverlay) {\n            vm.onClickOverlay();\n          } else {\n            vm.close();\n          }\n        }\n      }\n    }\n  });\n}\n\nexport function updateOverlay(vm) {\n  var item = context.find(vm);\n\n  if (item) {\n    var el = vm.$el;\n    var config = item.config,\n        overlay = item.overlay;\n\n    if (el && el.parentNode) {\n      el.parentNode.insertBefore(overlay.$el, el);\n    }\n\n    _extends(overlay, defaultConfig, config, {\n      show: true\n    });\n  }\n}\nexport function openOverlay(vm, config) {\n  var item = context.find(vm);\n\n  if (item) {\n    item.config = config;\n  } else {\n    var overlay = mountOverlay(vm);\n    context.stack.push({\n      vm: vm,\n      config: config,\n      overlay: overlay\n    });\n  }\n\n  updateOverlay(vm);\n}\nexport function closeOverlay(vm) {\n  var item = context.find(vm);\n\n  if (item) {\n    item.overlay.show = false;\n  }\n}\nexport function removeOverlay(vm) {\n  var item = context.find(vm);\n\n  if (item) {\n    removeNode(item.overlay.$el);\n    context.remove(vm);\n  }\n}","map":{"version":3,"names":["_extends","Overlay","context","mount","removeNode","defaultConfig","className","customStyle","mountOverlay","vm","on","click","$emit","closeOnClickOverlay","onClickOverlay","close","updateOverlay","item","find","el","$el","config","overlay","parentNode","insertBefore","show","openOverlay","stack","push","closeOverlay","removeOverlay","remove"],"sources":["/Volumes/T7-haodong/HTML_studying/项目/vue-vant项目-谁是卧底/app/node_modules/vant/es/mixins/popup/overlay.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Overlay from '../../overlay';\nimport { context } from './context';\nimport { mount } from '../../utils/functional';\nimport { removeNode } from '../../utils/dom/node';\nvar defaultConfig = {\n  className: '',\n  customStyle: {}\n};\n\nfunction mountOverlay(vm) {\n  return mount(Overlay, {\n    on: {\n      // close popup when overlay clicked & closeOnClickOverlay is true\n      click: function click() {\n        vm.$emit('click-overlay');\n\n        if (vm.closeOnClickOverlay) {\n          if (vm.onClickOverlay) {\n            vm.onClickOverlay();\n          } else {\n            vm.close();\n          }\n        }\n      }\n    }\n  });\n}\n\nexport function updateOverlay(vm) {\n  var item = context.find(vm);\n\n  if (item) {\n    var el = vm.$el;\n    var config = item.config,\n        overlay = item.overlay;\n\n    if (el && el.parentNode) {\n      el.parentNode.insertBefore(overlay.$el, el);\n    }\n\n    _extends(overlay, defaultConfig, config, {\n      show: true\n    });\n  }\n}\nexport function openOverlay(vm, config) {\n  var item = context.find(vm);\n\n  if (item) {\n    item.config = config;\n  } else {\n    var overlay = mountOverlay(vm);\n    context.stack.push({\n      vm: vm,\n      config: config,\n      overlay: overlay\n    });\n  }\n\n  updateOverlay(vm);\n}\nexport function closeOverlay(vm) {\n  var item = context.find(vm);\n\n  if (item) {\n    item.overlay.show = false;\n  }\n}\nexport function removeOverlay(vm) {\n  var item = context.find(vm);\n\n  if (item) {\n    removeNode(item.overlay.$el);\n    context.remove(vm);\n  }\n}"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,KAAT,QAAsB,wBAAtB;AACA,SAASC,UAAT,QAA2B,sBAA3B;AACA,IAAIC,aAAa,GAAG;EAClBC,SAAS,EAAE,EADO;EAElBC,WAAW,EAAE;AAFK,CAApB;;AAKA,SAASC,YAAT,CAAsBC,EAAtB,EAA0B;EACxB,OAAON,KAAK,CAACF,OAAD,EAAU;IACpBS,EAAE,EAAE;MACF;MACAC,KAAK,EAAE,SAASA,KAAT,GAAiB;QACtBF,EAAE,CAACG,KAAH,CAAS,eAAT;;QAEA,IAAIH,EAAE,CAACI,mBAAP,EAA4B;UAC1B,IAAIJ,EAAE,CAACK,cAAP,EAAuB;YACrBL,EAAE,CAACK,cAAH;UACD,CAFD,MAEO;YACLL,EAAE,CAACM,KAAH;UACD;QACF;MACF;IAZC;EADgB,CAAV,CAAZ;AAgBD;;AAED,OAAO,SAASC,aAAT,CAAuBP,EAAvB,EAA2B;EAChC,IAAIQ,IAAI,GAAGf,OAAO,CAACgB,IAAR,CAAaT,EAAb,CAAX;;EAEA,IAAIQ,IAAJ,EAAU;IACR,IAAIE,EAAE,GAAGV,EAAE,CAACW,GAAZ;IACA,IAAIC,MAAM,GAAGJ,IAAI,CAACI,MAAlB;IAAA,IACIC,OAAO,GAAGL,IAAI,CAACK,OADnB;;IAGA,IAAIH,EAAE,IAAIA,EAAE,CAACI,UAAb,EAAyB;MACvBJ,EAAE,CAACI,UAAH,CAAcC,YAAd,CAA2BF,OAAO,CAACF,GAAnC,EAAwCD,EAAxC;IACD;;IAEDnB,QAAQ,CAACsB,OAAD,EAAUjB,aAAV,EAAyBgB,MAAzB,EAAiC;MACvCI,IAAI,EAAE;IADiC,CAAjC,CAAR;EAGD;AACF;AACD,OAAO,SAASC,WAAT,CAAqBjB,EAArB,EAAyBY,MAAzB,EAAiC;EACtC,IAAIJ,IAAI,GAAGf,OAAO,CAACgB,IAAR,CAAaT,EAAb,CAAX;;EAEA,IAAIQ,IAAJ,EAAU;IACRA,IAAI,CAACI,MAAL,GAAcA,MAAd;EACD,CAFD,MAEO;IACL,IAAIC,OAAO,GAAGd,YAAY,CAACC,EAAD,CAA1B;IACAP,OAAO,CAACyB,KAAR,CAAcC,IAAd,CAAmB;MACjBnB,EAAE,EAAEA,EADa;MAEjBY,MAAM,EAAEA,MAFS;MAGjBC,OAAO,EAAEA;IAHQ,CAAnB;EAKD;;EAEDN,aAAa,CAACP,EAAD,CAAb;AACD;AACD,OAAO,SAASoB,YAAT,CAAsBpB,EAAtB,EAA0B;EAC/B,IAAIQ,IAAI,GAAGf,OAAO,CAACgB,IAAR,CAAaT,EAAb,CAAX;;EAEA,IAAIQ,IAAJ,EAAU;IACRA,IAAI,CAACK,OAAL,CAAaG,IAAb,GAAoB,KAApB;EACD;AACF;AACD,OAAO,SAASK,aAAT,CAAuBrB,EAAvB,EAA2B;EAChC,IAAIQ,IAAI,GAAGf,OAAO,CAACgB,IAAR,CAAaT,EAAb,CAAX;;EAEA,IAAIQ,IAAJ,EAAU;IACRb,UAAU,CAACa,IAAI,CAACK,OAAL,CAAaF,GAAd,CAAV;IACAlB,OAAO,CAAC6B,MAAR,CAAetB,EAAf;EACD;AACF"},"metadata":{},"sourceType":"module"}