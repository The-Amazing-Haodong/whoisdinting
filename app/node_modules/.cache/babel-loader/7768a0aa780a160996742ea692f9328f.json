{"ast":null,"code":"import { on } from '../utils/dom/event';\n\nfunction getDirection(x, y) {\n  if (x > y) {\n    return 'horizontal';\n  }\n\n  if (y > x) {\n    return 'vertical';\n  }\n\n  return '';\n}\n\nexport var TouchMixin = {\n  data: function data() {\n    return {\n      direction: ''\n    };\n  },\n  methods: {\n    touchStart: function touchStart(event) {\n      this.resetTouchStatus();\n      this.startX = event.touches[0].clientX;\n      this.startY = event.touches[0].clientY;\n    },\n    touchMove: function touchMove(event) {\n      var touch = event.touches[0]; // safari back will set clientX to negative number\n\n      this.deltaX = touch.clientX < 0 ? 0 : touch.clientX - this.startX;\n      this.deltaY = touch.clientY - this.startY;\n      this.offsetX = Math.abs(this.deltaX);\n      this.offsetY = Math.abs(this.deltaY); // lock direction when distance is greater than a certain value\n\n      var LOCK_DIRECTION_DISTANCE = 10;\n\n      if (!this.direction || this.offsetX < LOCK_DIRECTION_DISTANCE && this.offsetY < LOCK_DIRECTION_DISTANCE) {\n        this.direction = getDirection(this.offsetX, this.offsetY);\n      }\n    },\n    resetTouchStatus: function resetTouchStatus() {\n      this.direction = '';\n      this.deltaX = 0;\n      this.deltaY = 0;\n      this.offsetX = 0;\n      this.offsetY = 0;\n    },\n    // avoid Vue 2.6 event bubble issues by manually binding events\n    // https://github.com/youzan/vant/issues/3015\n    bindTouchEvent: function bindTouchEvent(el) {\n      var onTouchStart = this.onTouchStart,\n          onTouchMove = this.onTouchMove,\n          onTouchEnd = this.onTouchEnd;\n      on(el, 'touchstart', onTouchStart);\n      on(el, 'touchmove', onTouchMove);\n\n      if (onTouchEnd) {\n        on(el, 'touchend', onTouchEnd);\n        on(el, 'touchcancel', onTouchEnd);\n      }\n    }\n  }\n};","map":{"version":3,"names":["on","getDirection","x","y","TouchMixin","data","direction","methods","touchStart","event","resetTouchStatus","startX","touches","clientX","startY","clientY","touchMove","touch","deltaX","deltaY","offsetX","Math","abs","offsetY","LOCK_DIRECTION_DISTANCE","bindTouchEvent","el","onTouchStart","onTouchMove","onTouchEnd"],"sources":["/Volumes/T7-haodong/HTML_studying/项目/vue-vant项目-谁是卧底/app/node_modules/vant/es/mixins/touch.js"],"sourcesContent":["import { on } from '../utils/dom/event';\n\nfunction getDirection(x, y) {\n  if (x > y) {\n    return 'horizontal';\n  }\n\n  if (y > x) {\n    return 'vertical';\n  }\n\n  return '';\n}\n\nexport var TouchMixin = {\n  data: function data() {\n    return {\n      direction: ''\n    };\n  },\n  methods: {\n    touchStart: function touchStart(event) {\n      this.resetTouchStatus();\n      this.startX = event.touches[0].clientX;\n      this.startY = event.touches[0].clientY;\n    },\n    touchMove: function touchMove(event) {\n      var touch = event.touches[0]; // safari back will set clientX to negative number\n\n      this.deltaX = touch.clientX < 0 ? 0 : touch.clientX - this.startX;\n      this.deltaY = touch.clientY - this.startY;\n      this.offsetX = Math.abs(this.deltaX);\n      this.offsetY = Math.abs(this.deltaY); // lock direction when distance is greater than a certain value\n\n      var LOCK_DIRECTION_DISTANCE = 10;\n\n      if (!this.direction || this.offsetX < LOCK_DIRECTION_DISTANCE && this.offsetY < LOCK_DIRECTION_DISTANCE) {\n        this.direction = getDirection(this.offsetX, this.offsetY);\n      }\n    },\n    resetTouchStatus: function resetTouchStatus() {\n      this.direction = '';\n      this.deltaX = 0;\n      this.deltaY = 0;\n      this.offsetX = 0;\n      this.offsetY = 0;\n    },\n    // avoid Vue 2.6 event bubble issues by manually binding events\n    // https://github.com/youzan/vant/issues/3015\n    bindTouchEvent: function bindTouchEvent(el) {\n      var onTouchStart = this.onTouchStart,\n          onTouchMove = this.onTouchMove,\n          onTouchEnd = this.onTouchEnd;\n      on(el, 'touchstart', onTouchStart);\n      on(el, 'touchmove', onTouchMove);\n\n      if (onTouchEnd) {\n        on(el, 'touchend', onTouchEnd);\n        on(el, 'touchcancel', onTouchEnd);\n      }\n    }\n  }\n};"],"mappings":"AAAA,SAASA,EAAT,QAAmB,oBAAnB;;AAEA,SAASC,YAAT,CAAsBC,CAAtB,EAAyBC,CAAzB,EAA4B;EAC1B,IAAID,CAAC,GAAGC,CAAR,EAAW;IACT,OAAO,YAAP;EACD;;EAED,IAAIA,CAAC,GAAGD,CAAR,EAAW;IACT,OAAO,UAAP;EACD;;EAED,OAAO,EAAP;AACD;;AAED,OAAO,IAAIE,UAAU,GAAG;EACtBC,IAAI,EAAE,SAASA,IAAT,GAAgB;IACpB,OAAO;MACLC,SAAS,EAAE;IADN,CAAP;EAGD,CALqB;EAMtBC,OAAO,EAAE;IACPC,UAAU,EAAE,SAASA,UAAT,CAAoBC,KAApB,EAA2B;MACrC,KAAKC,gBAAL;MACA,KAAKC,MAAL,GAAcF,KAAK,CAACG,OAAN,CAAc,CAAd,EAAiBC,OAA/B;MACA,KAAKC,MAAL,GAAcL,KAAK,CAACG,OAAN,CAAc,CAAd,EAAiBG,OAA/B;IACD,CALM;IAMPC,SAAS,EAAE,SAASA,SAAT,CAAmBP,KAAnB,EAA0B;MACnC,IAAIQ,KAAK,GAAGR,KAAK,CAACG,OAAN,CAAc,CAAd,CAAZ,CADmC,CACL;;MAE9B,KAAKM,MAAL,GAAcD,KAAK,CAACJ,OAAN,GAAgB,CAAhB,GAAoB,CAApB,GAAwBI,KAAK,CAACJ,OAAN,GAAgB,KAAKF,MAA3D;MACA,KAAKQ,MAAL,GAAcF,KAAK,CAACF,OAAN,GAAgB,KAAKD,MAAnC;MACA,KAAKM,OAAL,GAAeC,IAAI,CAACC,GAAL,CAAS,KAAKJ,MAAd,CAAf;MACA,KAAKK,OAAL,GAAeF,IAAI,CAACC,GAAL,CAAS,KAAKH,MAAd,CAAf,CANmC,CAMG;;MAEtC,IAAIK,uBAAuB,GAAG,EAA9B;;MAEA,IAAI,CAAC,KAAKlB,SAAN,IAAmB,KAAKc,OAAL,GAAeI,uBAAf,IAA0C,KAAKD,OAAL,GAAeC,uBAAhF,EAAyG;QACvG,KAAKlB,SAAL,GAAiBL,YAAY,CAAC,KAAKmB,OAAN,EAAe,KAAKG,OAApB,CAA7B;MACD;IACF,CAnBM;IAoBPb,gBAAgB,EAAE,SAASA,gBAAT,GAA4B;MAC5C,KAAKJ,SAAL,GAAiB,EAAjB;MACA,KAAKY,MAAL,GAAc,CAAd;MACA,KAAKC,MAAL,GAAc,CAAd;MACA,KAAKC,OAAL,GAAe,CAAf;MACA,KAAKG,OAAL,GAAe,CAAf;IACD,CA1BM;IA2BP;IACA;IACAE,cAAc,EAAE,SAASA,cAAT,CAAwBC,EAAxB,EAA4B;MAC1C,IAAIC,YAAY,GAAG,KAAKA,YAAxB;MAAA,IACIC,WAAW,GAAG,KAAKA,WADvB;MAAA,IAEIC,UAAU,GAAG,KAAKA,UAFtB;MAGA7B,EAAE,CAAC0B,EAAD,EAAK,YAAL,EAAmBC,YAAnB,CAAF;MACA3B,EAAE,CAAC0B,EAAD,EAAK,WAAL,EAAkBE,WAAlB,CAAF;;MAEA,IAAIC,UAAJ,EAAgB;QACd7B,EAAE,CAAC0B,EAAD,EAAK,UAAL,EAAiBG,UAAjB,CAAF;QACA7B,EAAE,CAAC0B,EAAD,EAAK,aAAL,EAAoBG,UAApB,CAAF;MACD;IACF;EAxCM;AANa,CAAjB"},"metadata":{},"sourceType":"module"}