{"ast":null,"code":"export default {\n  name: \"App\",\n  components: {},\n\n  created() {\n    this.socket.on(\"tips\", msg => {\n      this.$notify(msg);\n\n      if (msg.detail === \"createRoom\") {\n        //通知tips组件,可以跳转了\n        this.$bus.$emit(\"createRoom\", msg.detail);\n      }\n\n      if (msg.detail === \"addRoom\") {\n        //通知tips组件,可以跳转了\n        this.$bus.$emit(\"playjumpRoom\", msg.playerData);\n        window.setTimeout(() => {\n          //通知Desk组件，将玩家信息广播过去\n          this.$bus.$emit(\"addRoom\", msg.playerData);\n        }, 20);\n      } //处理投票情况的点击事件\n\n\n      if (msg.detail === \"vote\") {\n        //这部分代码是投票阶段的代码\n        //给子组件绑定点击事件,确切的说，此处用事件总线通知了player组件自己绑定事件\n        this.$bus.$emit(\"bindingClickForPlayer\");\n      } //处理房间不存在的逻辑\n\n\n      if (msg.detail === \"noRoom\") {\n        console.log(this.$router);\n\n        if (this.$router.history.current.path === \"/desk\") {\n          this.$router.replace(\"/home\").catch(() => {\n            console.log(\"欢迎来到谁是卧底的世界\");\n          });\n          this.$notify({\n            message: \"您创建的房间之前已经被解散\",\n            type: \"danger\"\n          });\n        }\n      }\n    });\n    this.socket.on(\"clientjump\", () => {\n      this.$router.replace(\"/desk\").catch(() => {\n        console.log(\"欢迎来到谁是卧底的世界\");\n      });\n    });\n    this.socket.on(\"disconnect\", () => {\n      this.$notify({\n        type: \"danger\",\n        message: \"您的状态异常，请稍作等待，正在为您处理\"\n      });\n    });\n  }\n\n};","map":{"version":3,"mappings":"AAOA;EACAA,WADA;EAEAC,cAFA;;EAIAC;IACA;MACA;;MACA;QACA;QACA;MACA;;MACA;QACA;QACA;QAEAC;UACA;UACA;QACA,CAHA,EAGA,EAHA;MAIA,CAdA,CAeA;;;MACA;QACA;QACA;QACA;MACA,CApBA,CAsBA;;;MACA;QACAC;;QACA;UACA;YACAA;UACA,CAFA;UAGA;YACAC,wBADA;YAEAC;UAFA;QAIA;MACA;IACA,CAnCA;IAoCA;MACA;QACAF;MACA,CAFA;IAGA,CAJA;IAMA;MACA;QACAE,cADA;QAEAD;MAFA;IAIA,CALA;EAMA;;AArDA","names":["name","components","created","window","console","message","type"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"App\",\n  components: {},\n\n  created() {\n    this.socket.on(\"tips\", (msg) => {\n      this.$notify(msg);\n      if (msg.detail === \"createRoom\") {\n        //通知tips组件,可以跳转了\n        this.$bus.$emit(\"createRoom\", msg.detail);\n      }\n      if (msg.detail === \"addRoom\") {\n        //通知tips组件,可以跳转了\n        this.$bus.$emit(\"playjumpRoom\", msg.playerData);\n\n        window.setTimeout(() => {\n          //通知Desk组件，将玩家信息广播过去\n          this.$bus.$emit(\"addRoom\", msg.playerData);\n        }, 20);\n      }\n      //处理投票情况的点击事件\n      if (msg.detail === \"vote\") {\n        //这部分代码是投票阶段的代码\n        //给子组件绑定点击事件,确切的说，此处用事件总线通知了player组件自己绑定事件\n        this.$bus.$emit(\"bindingClickForPlayer\");\n      }\n\n      //处理房间不存在的逻辑\n      if (msg.detail === \"noRoom\") {\n        console.log(this.$router);\n        if (this.$router.history.current.path === \"/desk\") {\n          this.$router.replace(\"/home\").catch(() => {\n            console.log(\"欢迎来到谁是卧底的世界\");\n          });\n          this.$notify({\n            message: \"您创建的房间之前已经被解散\",\n            type: \"danger\",\n          });\n        }\n      }\n    });\n    this.socket.on(\"clientjump\", () => {\n      this.$router.replace(\"/desk\").catch(() => {\n        console.log(\"欢迎来到谁是卧底的世界\");\n      });\n    });\n\n    this.socket.on(\"disconnect\", () => {\n      this.$notify({\n        type: \"danger\",\n        message: \"您的状态异常，请稍作等待，正在为您处理\",\n      });\n    });\n  },\n};\n</script>\n\n\n</style>\n"]},"metadata":{},"sourceType":"module"}